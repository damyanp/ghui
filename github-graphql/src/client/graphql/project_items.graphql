query ProjectItems(
  $pageSize: Int!
  $after: String
) {
  organization(login: "llvm") {
    projectV2(number: 4) {
      items(first: $pageSize, after: $after) {
        totalCount
        nodes {
          __typename
          id
          updatedAt
          Status: fieldValueByName(name: "Status") {
            ...CustomField
          }
          Iteration: fieldValueByName(name: "Iteration") {
            ...CustomField
          }
          Blocked: fieldValueByName(name: "Blocked") {
            ...CustomField
          }
          Kind: fieldValueByName(name: "Kind") {
            ...CustomField
          }
          Epic: fieldValueByName(name: "Epic") {
            ...CustomField
          }
          Workstream: fieldValueByName(name: "Workstream") {
            ...CustomField
          }
          ProjectMilestone: fieldValueByName(name: "ProjectMilestone") {
            ...CustomField
          }
          content {
            __typename

            ... on DraftIssue {
              id
              title
              updatedAt
            }

            ... on Issue {
              id
              parent { id }
              resourcePath
              repository {                
                nameWithOwner
              }
              updatedAt
              title
              issueState: state
              subIssues(first: 100) {
                nodes {
                  id
                }
              }
              trackedIssues(first: 100) {
                nodes {
                  id
                }
              }
              issueType {
                name
              }
            }

            ... on PullRequest {
              id
              resourcePath
              repository {
                nameWithOwner
              }
              title
              updatedAt
              pullRequestState: state
            }
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
  }
}

fragment CustomField on ProjectV2ItemFieldValue {
  __typename
  ... on ProjectV2ItemFieldSingleSelectValue {
    optionId
  }
  ... on ProjectV2ItemFieldIterationValue {
    iterationId
  }
}
